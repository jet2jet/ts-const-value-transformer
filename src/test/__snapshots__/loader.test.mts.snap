// Jest Snapshot v1, https://jestjs.io/docs/snapshot-testing

exports[`loader test: generated source 1`] = `
"(()=>{"use strict";var e={d:(o,n)=>{for(var l in n)e.o(n,l)&&!e.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:n[l]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},l={};e.r(l),e.d(l,{constObject:()=>f,constValue1:()=>t,constValue2:()=>c,constValue3:()=>r,constValue4:()=>s,constValue5:()=>a,constValue6:()=>g,constValue7:()=>i,constValue8:()=>b,constValue9:()=>u}),require(void 0);const t=1,c=.1,r=-1,s="foo",a=!0,g=10n,i=-10n,b="aaa\\nbbb",u=\`bbb\${n}\`;let d=!0;console.log(1,.1,-1,"foo",!0,10n,-10n,"aaa\\nbbb".toString(),u.toString(),n.toString(),!0,12345,.1,d),d=!!Math.random(),d&&console.log(""),console.log(133,"5.5","5.5","5.5"),console.log(1,1===n||2===n);const f={a:4,b:"bar",c:!1,d:null,e:void 0,f:20n,g:-30n,h:{h1:1,h2:-3.14,h3:{}}};console.log(4,"bar",!1,null,void 0,20n,-30n,f.h,1,-3.14,f.h.h3,4..toString(),"bar".toString(),(!1).toString(),20n.toString(),-30n.toString(),1..toString(),-3.14.toString(),4,null),console.log(o.a),console.log(o.a),console.log(o.h.h1),console.log(o.h.h1);const h={a:!1,b:2};console.log(h.a,h.b);const p={p:1,q:"q",r:{s:!1,t:2}};var y,S;function v(){return 12345}p.p=null,p.r.s=!0,console.log(p.p,"q",p.r.s,2),function(o){o[o.A=1]="A",o.B="hoge"}(y||(y={})),console.log(1,"hoge"),function(o){o[o.C=2]="C",o.D="piyo"}(S||(S={})),console.log(2,"piyo"),console.log(2,"piyo"),console.log(4),console.log(432),(()=>{const{a:o,b:n,e=-1}=f;console.log(4,"bar",-1)})(),((o=.1)=>{console.log(o)})(),console.log(12345),console.log(v(),v()),console.log([...Array(5)].map((o,n)=>n)),console.log(((...o)=>o.length)(...Array(5)));const[,V]=[1,2];console.log(2);const O={foo:!0,bar:!0};console.log(O.foo,O.baz);var j=exports;for(var m in l)j[m]=l[m];l.__esModule&&Object.defineProperty(j,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map"
`;

exports[`loader test: generated source map 1`] = `
{
  "file": "index.js",
  "ignoreList": [],
  "mappings": "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",
  "names": [
    "__webpack_require__",
    "exports",
    "definition",
    "key",
    "o",
    "Object",
    "defineProperty",
    "enumerable",
    "get",
    "obj",
    "prop",
    "prototype",
    "hasOwnProperty",
    "call",
    "Symbol",
    "toStringTag",
    "value",
    "require",
    "undefined",
    "n",
    "console",
    "log",
    "constValue1",
    "constValue2",
    "constValue3",
    "constValue4",
    "constValue5",
    "constValue6",
    "constValue7",
    "constValue8",
    "toString",
    "constValue10",
    "Math",
    "random",
    "writableValue1",
    "ts.SyntaxKind.AnyKeyword",
    "ts.versionMajorMinor",
    "versionMajorMinor",
    "vmm",
    "mod.Hoge",
    "mod.Piyo",
    "constObject.a",
    "constObject.b",
    "constObject.c",
    "constObject.d",
    "constObject.e",
    "constObject.f",
    "constObject.g",
    "h",
    "constObject.h.h1",
    "constObject.h.h2",
    "h3",
    "constObject['a']",
    "constObject['d']",
    "a",
    "h1",
    "nonConstObject",
    "b",
    "partialConstObject",
    "p",
    "r",
    "s",
    "partialConstObject.q",
    "partialConstObject.r.t",
    "BarEnum.A",
    "BarEnum.B",
    "BazEnum.C",
    "BazEnum.D",
    "BazEnum['C']",
    "BazEnum['D']",
    "constObject[name_a]",
    "objWithComputedName[name_a]",
    "b2",
    "e",
    "x",
    "fn2",
    "Array",
    "map",
    "u",
    "i",
    "args",
    "length",
    "fn1",
    "tuple2",
    "record1",
    "foo",
    "baz",
  ],
  "sourceRoot": "",
  "sources": [
    "webpack://ts-const-value-transformer/webpack/bootstrap",
    "webpack://ts-const-value-transformer/webpack/runtime/define property getters",
    "webpack://ts-const-value-transformer/webpack/runtime/hasOwnProperty shorthand",
    "webpack://ts-const-value-transformer/webpack/runtime/make namespace object",
    "webpack://ts-const-value-transformer/external commonjs {"root":"typescript"}",
    "webpack://ts-const-value-transformer/./src/test-project/index.mts",
  ],
  "sourcesContent": [
    "// The require scope
var __webpack_require__ = {};

",
    "// define getter functions for harmony exports
__webpack_require__.d = (exports, definition) => {
	for(var key in definition) {
		if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
			Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
		}
	}
};",
    "__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))",
    "// define __esModule on exports
__webpack_require__.r = (exports) => {
	if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
		Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
	}
	Object.defineProperty(exports, '__esModule', { value: true });
};",
    "const __WEBPACK_NAMESPACE_OBJECT__ = require(undefined);",
    "import * as ts from 'typescript';
import { versionMajorMinor as vmm } from 'typescript';
import { versionMajorMinor } from 'typescript';
import * as mod from './mod.mjs';

const constValue1 = 1;
const constValue2 = 0.1;
const constValue3 = -1;
const constValue4 = 'foo';
const constValue5 = true;
const constValue6 = 10n;
const constValue7 = -10n;
const constValue8 = \`aaa
bbb\`;
declare let n: number;
const constValue9 = \`bbb\${n}\`;
const constValue10 = !0;
const constValue11 = undefined;
let writableValue1 = true;

console.log(
  constValue1,
  constValue2,
  constValue3,
  /* the comment */
  /* the comment */
  constValue4,
  /* the comment */
  constValue5,
  constValue6 /* the comment */,
  constValue7,
  /* the comment */
  constValue8.toString() /* the comment */,
  // don't transform because constValue9 is not a literal type
  constValue9.toString(),
  // don't transform for asserted type
  (n as 10).toString(),
  constValue10,
  // 'constValue11 || 12345' is literal type, but don't transform (instead transform 'constValue11')
  constValue11 || 12345,
  // 'constValue1 ? constValue2 : constValue3' is literal type, but don't transform
  constValue1 ? constValue2 : constValue3,
  // writableValue1 is literal type, but don't transform unless \`unsafeHoistWritableValues\` is true
  writableValue1
);
export {
  constValue1,
  constValue2,
  constValue3,
  constValue4,
  constValue5,
  constValue6,
  constValue7,
  constValue8,
  constValue9,
};
setWritableValue1();
if (constValue1 && (writableValue1 || !constValue5)) {
  console.log('');
}

function setWritableValue1() {
  writableValue1 = !!Math.random();
}

// External values
console.log(
  ts.SyntaxKind.AnyKeyword,
  ts.versionMajorMinor,
  versionMajorMinor,
  vmm
);

console.log(mod.Hoge, (n as number) === mod.Hoge || (n as number) === mod.Piyo);

export const constObject = {
  a: 4,
  b: 'bar',
  c: false,
  d: null,
  e: undefined,
  f: 20n,
  g: -30n,
  h: {
    h1: constValue1,
    h2: -3.14,
    h3: {},
  },
} as const;
console.log(
  constObject.a,
  constObject.b,
  constObject.c,
  constObject.d,
  constObject.e,
  constObject.f,
  constObject.g,
  constObject.h,
  constObject.h.h1,
  constObject.h.h2,
  constObject.h.h3,
  //
  constObject.a.toString(),
  constObject.b.toString(),
  constObject.c.toString(),
  constObject.f.toString(),
  constObject.g.toString(),
  constObject.h.h1.toString(),
  constObject.h.h2.toString(),
  // element accesses are hoistable by default
  constObject['a'],
  constObject['d']
);

// don't transform here
declare let o: object;
console.log((o as typeof constObject).a);
console.log((o as typeof constObject)['a']);
console.log((o as typeof constObject).h.h1);
console.log((o as typeof constObject).h['h1']);

const nonConstObject = {
  a: true,
  b: 1,
};
nonConstObject.a = false;
nonConstObject.b = 2;
// don't transform \`a\` unless \`unsafeHoistWritableValues\` is true
console.log(nonConstObject.a, nonConstObject.b);

interface WithReadonlyObject {
  p: number | null;
  readonly q: 'q';
  readonly r: {
    s: boolean;
    readonly t: 2;
  };
}
const partialConstObject: WithReadonlyObject = {
  p: 1,
  q: 'q',
  r: {
    s: false,
    t: 2,
  },
};
partialConstObject.p = null;
partialConstObject.r.s = true;
// don't transform \`p\` and \`r.s\` unless \`unsafeHoistWritableValues\` is true
console.log(
  partialConstObject.p,
  partialConstObject.q,
  partialConstObject.r.s,
  partialConstObject.r.t
);

const enum BarEnum {
  A = 1,
  B = 'hoge',
}
console.log(BarEnum.A, BarEnum.B);

enum BazEnum {
  C = 2,
  D = 'piyo',
}
console.log(BazEnum.C, BazEnum.D);
// element access
console.log(BazEnum['C'], BazEnum['D']);

// Element access with constant name
const name_a = 'a';
console.log(constObject[name_a]);

// Object initializer with computed name
const objWithComputedName = { [name_a]: 432 } as const;
console.log(objWithComputedName[name_a]);

(() => {
  const { a, b: b2, e = constValue3 } = constObject;
  console.log(a, b2, e);
})();

((x: number = constValue2) => {
  console.log(x);
})();

function fn2() {
  return 12345 as const;
}
console.log(fn2());
// with annotation
console.log(/*@__PURE__*/ fn2(), /*#__PURE__*/ fn2());

// don't transform spread element and parameter declarations
console.log([...Array<undefined>(5)].map((u, i) => (u == null ? i : 0)));
const fn1 = (...args: undefined[]) => args.length;
console.log(fn1(...Array<undefined>(5)));

// don't transform omitted expression
const tuple = [1, 2] as const;
const [, tuple2] = tuple;
console.log(tuple2);

// don't transform satisfies expression
tuple2 satisfies 2;

// don't transform assignment
const record1: Record<string, true> = {};
record1.foo = true;
record1['bar'] = true;
// don't transform indexed access
console.log(record1.foo, record1.baz);

export {};
",
  ],
  "version": 3,
}
`;

exports[`loader transforming causes unchanged: generated source 1`] = `
"(()=>{"use strict";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{Hoge:()=>r,Piyo:()=>t});const r=1,t=2;var l=exports;for(var n in o)l[n]=o[n];o.__esModule&&Object.defineProperty(l,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map"
`;

exports[`loader transforming causes unchanged: generated source map 1`] = `
{
  "file": "index.js",
  "ignoreList": [],
  "mappings": "mBACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFV,EAAyBC,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,M,2CCLhD,MAAMC,EAAO,EACPC,EAAO,E",
  "names": [
    "__webpack_require__",
    "exports",
    "definition",
    "key",
    "o",
    "Object",
    "defineProperty",
    "enumerable",
    "get",
    "obj",
    "prop",
    "prototype",
    "hasOwnProperty",
    "call",
    "Symbol",
    "toStringTag",
    "value",
    "Hoge",
    "Piyo",
  ],
  "sourceRoot": "",
  "sources": [
    "webpack://ts-const-value-transformer/webpack/bootstrap",
    "webpack://ts-const-value-transformer/webpack/runtime/define property getters",
    "webpack://ts-const-value-transformer/webpack/runtime/hasOwnProperty shorthand",
    "webpack://ts-const-value-transformer/webpack/runtime/make namespace object",
    "webpack://ts-const-value-transformer/./src/test-project/mod.mts",
  ],
  "sourcesContent": [
    "// The require scope
var __webpack_require__ = {};

",
    "// define getter functions for harmony exports
__webpack_require__.d = (exports, definition) => {
	for(var key in definition) {
		if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
			Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
		}
	}
};",
    "__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))",
    "// define __esModule on exports
__webpack_require__.r = (exports) => {
	if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
		Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
	}
	Object.defineProperty(exports, '__esModule', { value: true });
};",
    "export const Hoge = 1;
export const Piyo = 2;
",
  ],
  "version": 3,
}
`;
